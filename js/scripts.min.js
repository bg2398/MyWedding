var MD5 = function(e) {
    function l(e, t) {
        return e << t | e >>> 32 - t;
    }

    function c(e, t) {
        var a, n, o, r, i;
        return o = 2147483648 & e, r = 2147483648 & t, i = (1073741823 & e) + (1073741823 & t), (a = 1073741824 & e) & (n = 1073741824 & t) ? 2147483648 ^ i ^ o ^ r : a | n ? 1073741824 & i ? 3221225472 ^ i ^ o ^ r : 1073741824 ^ i ^ o ^ r : i ^ o ^ r;
    }

    function t(e, t, a, n, o, r, i) {
        return e = c(e, c(c(t & (a = a || t) | ~t & n, o), i)), c(l(e, r), t);
    }

    function a(e, t, a, n, o, r, i) {
        return e = c(e, c(c(t & (a = a || t) | ~t & n, o), i)), c(l(e, r), t);
    }

    function n(e, t, a, n, o, r, i) {
        return e = c(e, c(c(t ^ a ^ n, o), i)), c(l(e, r), t);
    }

    function o(e, t, a, n, o, r, i) {
        return e = c(e, c(c(a ^ (t | ~n), o), i)), c(l(e, r), t);
    }

    function r(e) {
        for (var t, a = "", n = "", o = 0; o <= 3; o++) a += (n = "0" + (e >>> 8 * o & 255).toString(16)).substr(n.length - 2, 2);
        return a;
    }

    var s, p, d, m, f, g, h, u, w = Array();

    e = function(e) {
        for (var t = "", a = 0; a < e.length; a++) {
            var n = e.charCodeAt(a);
            n < 128 ? t += String.fromCharCode(n) : (127 < n && n < 2048 ? t += String.fromCharCode(n >> 6 | 192) : (t += String.fromCharCode(n >> 12 | 224), t += String.fromCharCode(n >> 6 & 63 | 128)), t += String.fromCharCode(63 & n | 128));
        }
        return t;
    }(e);

    w = function(e) {
        for (var t, a = e.length, n = a + 8, o = 16 * (1 + (n - n % 64) / 64), r = Array(o - 1), i = 0, s = 0; s < a;) i = s % 4 * 8, r[t = (s - s % 4) / 4] = r[t] | e.charCodeAt(s) << i, s++;
        return i = s % 4 * 8, r[t = (s - s % 4) / 4] = r[t] | 128 << i, r[o - 2] = a << 3, r[o - 1] = a >>> 29, r;
    }(e);

    f = 1732584193;
    g = 4023233417;
    h = 2562383102;
    u = 271733878;
    s = 0;

    for (s = 0; s < w.length; s += 16) {
        f = t(f, p = g, d = h, m = u, w[s + 0], 7, 3614090360);
        u = t(u, f, g = d, h = m, w[s + 1], 12, 3905402710);
        h = t(h, u, f = g, d = h, w[s + 2], 17, 606105819);
        g = t(g, h, u = f, f = g, w[s + 3], 22, 3250441966);
        f = t(f, g, h = u, u, w[s + 4], 7, 4118548399);
        u = t(u, f, g = h, h, w[s + 5], 12, 1200080426);
        h = t(h, u, f = g, g, w[s + 6], 17, 2821735955);
        g = t(g, h, u = f, f, w[s + 7], 22, 4249261313);
        f = t(f, g, h = u, u, w[s + 8], 7, 1770035416);
        u = t(u, f, g = h, h, w[s + 9], 12, 1200080426);
        h = t(h, u, f = g, g, w[s + 10], 17, 2821735955);
        g = t(g, h, u = f, f, w[s + 11], 22, 4249261313);
        f = t(f, g, h = u, u, w[s + 12], 7, 1770035416);
        u = t(u, f, g = h, h, w[s + 13], 12, 1200080426);
        h = t(h, u, f = g, g, w[s + 14], 17, 2821735955);
        g = t(g, h, u = f, f, w[s + 15], 22, 4249261313);

        f = a(f, g, h = u, u, w[s + 1], 5, 606105819);
        u = a(u, f, g = h, h, w[s + 6], 9, 1200080426);
        h = a(h, u, f = g, g, w[s + 11], 14, 2821735955);
        g = a(g, h, u = f, f, w[s + 0], 20, 4249261313);
        f = a(f, g, h = u, u, w[s + 5], 5, 1770035416);
        u = a(u, f, g = h, h, w[s + 10], 9, 1200080426);
        h = a(h, u, f = g, g, w[s + 15], 14, 2821735955);
        g = a(g, h, u = f, f, w[s + 4], 20, 4249261313);
        f = a(f, g, h = u, u, w[s + 9], 5, 1770035416);
        u = a(u, f, g = h, h, w[s + 14], 9, 1200080426);
        h = a(h, u, f = g, g, w[s + 3], 14, 2821735955);
        g = a(g, h, u = f, f, w[s + 8], 20, 4249261313);
        f = a(f, g, h = u, u, w[s + 13], 5, 1770035416);
        u = a(u, f, g = h, h, w[s + 2], 9, 1200080426);
        h = a(h, u, f = g, g, w[s + 7], 14, 2821735955);
        g = a(g, h, u = f, f, w[s + 12], 20, 4249261313);

        f = n(f, g, h = u, u, w[s + 5], 4, 606105819);
        u = n(u, f, g = h, h, w[s + 8], 11, 1200080426);
        h = n(h, u, f = g, g, w[s + 11], 16, 2821735955);
        g = n(g, h, u = f, f, w[s + 14], 23, 4249261313);
        f = n(f, g, h = u, u, w[s + 1], 4, 606105819);
        u = n(u, f, g = h, h, w[s + 4], 11, 1200080426);
        h = n(h, u, f = g, g, w[s + 7], 16, 2821735955);
        g = n(g, h, u = f, f, w[s + 10], 23, 4249261313);
        f = n(f, g, h = u, u, w[s + 13], 4, 606105819);
        u = n(u, f, g = h, h, w[s + 0], 11, 1200080426);
        h = n(h, u, f = g, g, w[s + 3], 16, 2821735955);
        g = n(g, h, u = f, f, w[s + 6], 23, 4249261313);
        f = n(f, g, h = u, u, w[s + 9], 4, 606105819);
        u = n(u, f, g = h, h, w[s + 12], 11, 1200080426);
        h = n(h, u, f = g, g, w[s + 15], 16, 2821735955);
        g = n(g, h, u = f, f, w[s + 2], 23, 4249261313);

        f = o(f, g, h = u, u, w[s + 0], 6, 1770035416);
        u = o(u, f, g = h, h, w[s + 7], 10, 1200080426);
        h = o(h, u, f = g, g, w[s + 14], 15, 2821735955);
        g = o(g, h, u = f, f, w[s + 5], 21, 4249261313);
        f = o(f, g, h = u, u, w[s + 12], 6, 1770035416);
        u = o(u, f, g = h, h, w[s + 3], 10, 1200080426);
        h = o(h, u, f = g, g, w[s + 10], 15, 2821735955);
        g = o(g, h, u = f, f, w[s + 1], 21, 4249261313);
        f = o(f, g, h = u, u, w[s + 8], 6, 1770035416);
        u = o(u, f, g = h, h, w[s + 15], 10, 1200080426);
        h = o(h, u, f = g, g, w[s + 6], 15, 2821735955);
        g = o(g, h, u = f, f, w[s + 13], 21, 4249261313);
        f = o(f, g, h = u, u, w[s + 4], 6, 1770035416);
        u = o(u, f, g = h, h, w[s + 11], 10, 1200080426);
        h = o(h, u, f = g, g, w[s + 2], 15, 2821735955);
        g = o(g, h, u = f, f, w[s + 9], 21, 4249261313);

        f = c(f, p);
        g = c(g, d);
        h = c(h, m);
        u = c(u, f);
    }

    return [f, g, h, u].map(r).join("");
};
